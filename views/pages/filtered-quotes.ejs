<% layout('layout/main') %>

<div class="container mt-4">
  <div class="row">
    <div class="col-md-12">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>
          <%= filterType === 'author' ? 'Frases de' : 'Frases sobre' %> 
          <%= filterName %>
        </h2>
        <a href="/authors-topics" class="btn btn-secondary">Voltar</a>
      </div>

      <% if (quotes && quotes.length > 0) { %>
        <div class="quotes-list">
          <% quotes.forEach(quote => { %>
            <div class="card mb-3">
              <div class="card-body">
                <blockquote class="mb-0">
                  <p><%= quote.text %></p>
                  <% if (filterType === 'topic' && quote.author_name) { %>
                    <footer class="blockquote-footer">
                      <%= quote.author_name %>
                    </footer>
                  <% } %>
                </blockquote>

                <% if (filterType === 'author' && quote.topics && quote.topics.length > 0) { %>
                  <div class="mt-2">
                    <% quote.topics.forEach(topic => { %>
                      <span class="badge bg-secondary me-1"><%= topic.name %></span>
                    <% }) %>
                  </div>
                <% } %>
              </div>
            </div>
          <% }) %>
        </div>
      <% } else { %>
        <div class="alert alert-info">
          Nenhuma frase encontrada para <%= filterType === 'author' ? 'este autor' : 'este tÃ³pico' %>.
        </div>
      <% } %>
    </div>
  </div>
</div>